"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

fix ave/time/saed command :h3

[Syntax:]

fix ID group-ID ave/time/saed Nevery Nrepeat Nfreak c_ID attribute args ... keyword args ... :pre

ID, group-ID are documented in "fix"_fix.html command :ulb,l
ave/time = style name of this fix command :l
Nevery = use input values every this many timesteps :l
Nrepeat = # of times to use input values for calculating averages :l
Nfreq = calculate averages every this many timesteps :l
c_ID = saed compute ID :l

attribute = {lambda} or {Kmax} or {Zone} or {dR_Ewald} or {c} or {manual} values must 
match values from "compute_saed"_compute_saed.html:l  
  {lambda} = wavelength of incident radiation (length units)
  {Kmax} value = Maximum distance explored from reciprocal space origin 
                 (inverse length units)
  {Zone} values = z1 z2 z3
    z1,z2,z3 = Zone axis of incident radiaiton. If z1=z2=z3=0 all 
               reciprocal space will be meshed up to {Kmax}
  {dR_Ewald} value = Thickness of Ewald sphere slice interceting 
                     reciprocal space (inverse length units)
  {c} values = c1 c2 c3
    c1,c2,c3 = paramaters to adjust the spacing of the reciprocal 
               lattice nodes in the h, k, and l directions respectively
  {manual} = flag to use manual spacing of reciprocal lattice points   
             based on the values of the {c} paramaters :pre
keyword = {file} or {ave} or {start} or {off}:l
  {ave} args = {one} or {running} or {window M}
    one = output a new average value every Nfreq steps
    running = output cummulative average of all previous Nfreq steps
    window M = output average of M most recent Nfreq steps
  {start} args = Nstart
    Nstart = start averaging on this timestep
  {off} arg = M = do not average this value
    M = value # from 1 to Nvalues
  {file} arg = filename
    filename = name of file to output time averages to :pre

:ule

[Examples:]

compute 1 all saed 0.0251 Al O Kmax 1.70 Zone 0 0 1 dR_Ewald 0.01 c 0.5 0.5 0.5
compute 2 all saed 0.0251 Al O Kmax 1.70 Zone 0 0 0 c 0.05 0.05 0.05 manual echo

fix ave/time/saed 1 1 1 c_1 Kmax 1.70 Zone 0 0 1 dR_Ewald 0.01 c 0.5 0.5 0.5 lambda 0.0251 file Al2O3_001.saed
fix ave/time/saed 1 1 1 c_2 Kmax 1.70 Zone 0 0 0 c 0.05 0.05 0.05 lambda 0.0251 file Al2O3_000.saed :pre

[Description:]

Time average computed intensities from compute_saed and write output to 
a file in the 3rd generation vtk image data format for visualization 
directly in visualization software like ParaView and VisIt. Note that 
if no time averaging is done, this command can be used as a convenient
way to simply output diffraction intensities at a single snapshot.

To produce output in the image data vtk format ghost data is added
outside the Kmax range of the diffraction compute. The ghost data is 
assigned a value of -1 and can be removed setting a minimum isovolume 
of 0. SAED images can be created by visualizing a spherical slice of the
data that is centered at R_Ewald*[h k l]/norm([h k l]), where 
R_Ewald=1/lambda.

The group specified with this command is ignored. However, note that 
specified values may represent calculations performed by saed computes
which store their own "group" definitions.

compute 3 top saed 0.0251 Al O 
fix ave/time/saed 1 1 1 c_3 lambda 0.0251 file Al2O3_001.saed

:line

The {Nevery}, {Nrepeat}, and {Nfreq} arguments specify on what
timesteps the input values will be used in order to contribute to the
average.  The final averaged quantities are generated on timesteps
that are a mlutiple of {Nfreq}.  The average is over {Nrepeat}
quantities, computed in the preceding portion of the simulation every
{Nevery} timesteps.  {Nfreq} must be a multiple of {Nevery} and
{Nevery} must be non-zero even if {Nrepeat} is 1.  Also, the timesteps
contributing to the average value cannot overlap, i.e. Nfreq >
(Nrepeat-1)*Nevery is required.

For example, if Nevery=2, Nrepeat=6, and Nfreq=100, then values on
timesteps 90,92,94,96,98,100 will be used to compute the final average
on timestep 100.  Similarly for timesteps 190,192,194,196,198,200 on
timestep 200, etc.  If Nrepeat=1 and Nfreq = 100, then no time
averaging is done; values are simply generated on timesteps
100,200,etc.

:line


[Output:]

# vtk DataFile Version 3.0 c_SAED
Image data set
ASCII
DATASET STRUCTURED_POINTS
DIMENSIONS 337 219 209
ASPECT_RATIO 0.00507953 0.00785161 0.00821458
ORIGIN -0.853361 -0.855826 -0.854316 \n POINT_DATA 15424827
SCALARS intensity float
LOOKUP_TABLE default
...data


This compute calculates a global vector.  The length of the vector is 
the number of reciprocal lattice nodes that are explored by the mesh.  
The entries of the global vector are the computed diffraction 
intensities as discribed above.

The vector can be accessed by any command that uses global values
from a compute as input.  See "this
section"_Section_howto.html#howto_15 for an overview of LAMMPS output
options.

All array values calculated by this compute are "intensive".  

[Restrictions:] 

The attributes for fix_ave_time_saed must match the values assigned in the
associated compute_saed command.

[Related commands:] 

"fix ave/time/saed"_compute_ave_time_saed.html
"compute xrd"_compute_xrd.html

[Default:] 

The attribute defaults are Kmax = 1.70, Zone 1 0 0, c 1 1 1, dR_Ewald = 0.01
The option defaults are mode = scalar, ave = one, start = 0, no file
output.

:line

:link(Coleman)
[(Coleman)] Coleman, Spearot, Capolungo, MSMSE, 21, 055020
(2013).
